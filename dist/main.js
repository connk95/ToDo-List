(()=>{"use strict";var e={d:(t,n)=>{for(var c in n)e.o(n,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:n[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{k:()=>m,W:()=>h});const t=(e,t,n,c,i,d)=>{const o={};return o.title=e,o.description=t,o.dueDate=n,o.priority=c,o.complete=i,o.tasks=[],o};function n(e,t){if(1==confirm("Complete this task?"))for(let n=0;n<m.length;n++)if(m[n].title===e){let e=m[n].tasks;for(let n=0;n<e.length;n++)e[n].title===t&&(e.splice(n,1),i(t),h())}}function c(e){document.querySelector(`#${e}`).remove()}function i(e){document.querySelector(`#${e}Div`).remove()}function d(e){const t=document.querySelector("#taskspace"),n=document.createElement("div");n.id="subheader";const c=document.createElement("h2");c.id="subtitle",c.innerHTML=`${e}`,n.appendChild(c),t.appendChild(n)}function o(e,t,n){const i=document.querySelector("#taskspace"),d=document.createElement("div");d.id="taskDesc";const o=document.createElement("p");o.id="projectDesc",o.innerHTML=`${t}`;const l=document.createElement("button");l.innerHTML="Complete",l.id=`${e}Complete`,l.addEventListener("click",(()=>{!function(e){if(1==confirm("Complete this project?"))for(let t=0;t<m.length;t++)if(m[t].title===e){m.splice(t,1),c(e),h();const n=document.querySelector("#taskspace");for(;n.firstChild;)n.removeChild(n.firstChild)}}(e),h()})),d.appendChild(o),d.appendChild(l),i.appendChild(d);const r=document.querySelector("#subheader"),u=document.createElement("div"),a=document.createElement("p");a.innerHTML=`Due: ${n}`,u.appendChild(a),r.appendChild(u);const s=document.createElement("ol");s.id=`${e}List`;const C=document.createElement("li");C.id="addTask",C.innerHTML="New Task",s.appendChild(C),i.appendChild(s),C.addEventListener("click",(()=>{p()}))}function l(){for(let e=m.length-1;e<m.length;e++){const t=document.querySelector("#projectList"),n=document.createElement("li");n.innerHTML=m[e].title,n.id=`${m[e].title}`,t.appendChild(n),r(m[e].title)}}function r(e){document.getElementById(`${e}`).addEventListener("click",(()=>{null!=document.querySelector("#subtitle")&&s(),function(e){d(e)}(e);for(let t=0;t<m.length;t++)m[t].title===e&&o(m[t].title,m[t].description,m[t].dueDate)}))}function u(e){for(let t=m.length-1;t<m.length;t++)if(m[t].title===e){let c=m[t].tasks;for(let t=c.length-1;t<c.length;t++){const i=document.getElementById(`${e}List`),d=document.createElement("div");d.id=`${c[t].title}Div`;const o=document.createElement("div"),l=document.createElement("h3");l.innerHTML=c[t].title;const r=document.createElement("p");r.innerHTML=c[t].dueDate,o.appendChild(l),o.appendChild(r);const u=document.createElement("div"),a=document.createElement("p");a.innerHTML=c[t].description;const p=document.createElement("button");p.innerHTML="Complete",p.addEventListener("click",(()=>{n(e,c[t].title)})),u.appendChild(a),u.appendChild(p),d.appendChild(o),d.appendChild(u),i.appendChild(d)}}}const a=(e,t,n,c,i)=>{const d={};return d.title=e,d.description=t,d.dueDate=n,d.priority=c,d.complete=i,d};function p(){const e=document.querySelector("#taskspace"),n=document.createElement("form");n.id="taskForm",e.appendChild(n);const c=document.createElement("div");c.id="titlePriorityDiv";const i=document.createElement("div");i.id="titlePriorityHeader";const d=document.createElement("p");d.classList.add("formText"),d.innerHTML="Title:";const o=document.createElement("p");o.classList.add("formText"),o.innerHTML="High priority:",i.appendChild(d),i.appendChild(o),c.appendChild(i);const r=document.createElement("div");r.id="titlePriorityInput";const p=document.createElement("input");p.id="titleInput",p.setAttribute("type","text");const C=document.createElement("input");C.id="priorityInput",C.setAttribute("type","checkbox"),r.appendChild(p),r.appendChild(C),c.appendChild(r);const f=document.createElement("div");f.id="descriptionDiv";const E=document.createElement("p");E.classList.add("formText"),E.innerHTML="Description:";const y=document.createElement("textarea");y.id="descriptionInput",y.setAttribute("rows","8"),f.appendChild(E),f.appendChild(y);const v=document.createElement("div"),L=document.createElement("p");L.classList.add("formText"),L.innerHTML="Date:";const S=document.createElement("input");S.id="dateInput",S.setAttribute("type","date"),S.id="dateInput",v.appendChild(L),v.appendChild(S);const T=document.createElement("button");T.innerHTML="Submit",T.setAttribute("type","submit"),n.appendChild(c),n.appendChild(f),n.appendChild(v),n.appendChild(T),T.addEventListener("click",(function(e){"New Project"==k.innerHTML?(function(){let e=document.querySelector("#titleInput").value,n=document.querySelector("#descriptionInput").value,c=document.querySelector("#dateInput").value,i=!1;1==document.querySelector("#priorityInput").checked&&(i=!0);let d=t(e,n,c,i,!1);console.log(d),m.push(d)}(),h(),l(),e.preventDefault(),s()):"New Project"!==k.innerHTML&&(function(){let e=document.querySelector("#titleInput").value,t=document.querySelector("#descriptionInput").value,n=document.querySelector("#dateInput").value,c=!1;1==document.querySelector("#priorityInput").checked&&(c=!0);let i=a(e,t,n,c,!1);const d=document.querySelector("#subtitle").innerHTML;for(let e=m.length-1;e<m.length;e++)m[e].title===d&&m[e].tasks.push(i),console.log(i),console.log(m[e]),u(d)}(),h(),e.preventDefault(),function(){const e=document.querySelector("#taskspace");e.removeChild(e.lastChild)}())}));const k=document.querySelector("#subtitle")}function s(){if(0!==document.querySelector("#taskspace").childElementCount&&null!==document.querySelector("#subtitle").innerHTML)for(;taskspace.firstChild;)taskspace.removeChild(taskspace.lastChild)}!function(){const e=document.querySelector("#content"),t=document.createElement("div");t.id="headerDiv";const n=document.createElement("h1");n.id="title",n.innerHTML="CanDo",t.appendChild(n);const c=document.createElement("div");c.id="menu",t.appendChild(c),e.appendChild(t)}(),function(){const e=document.querySelector("#content"),t=document.createElement("div");t.id="bodyDiv",e.appendChild(t),function(){const e=document.querySelector("#bodyDiv"),t=document.createElement("div");t.id="sidebar",e.appendChild(t);const n=document.createElement("div");n.id="sidebarProjects",t.appendChild(n),function(){const e=document.querySelector("#sidebarProjects"),t=document.createElement("div");t.id="projectsTitle";const n=document.createElement("h2");n.innerHTML="Projects",t.appendChild(n),e.appendChild(t);const c=document.createElement("div");c.id="allProjects",e.appendChild(c);const i=document.createElement("ol");i.id="projectList",c.appendChild(i);const o=document.createElement("li");o.id="addProject",o.innerHTML="New Project",i.appendChild(o),o.addEventListener("click",(()=>{s(),d(o.innerHTML),p()}))}()}(),function(){const e=document.querySelector("#bodyDiv"),t=document.createElement("div");t.id="taskspace",e.appendChild(t)}()}();const m=[];function h(){localStorage.setItem("projects",JSON.stringify(m))}(()=>{const e=JSON.parse(localStorage.getItem("projects"));for(;e.length;)m.push(e.shift()),l()})()})();